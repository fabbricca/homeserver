apiVersion: v1
kind: ConfigMap
metadata:
  name: cognitia-auth-config
  namespace: cognitia
  labels:
    app.kubernetes.io/name: cognitia-auth
    app.kubernetes.io/component: auth
    app.kubernetes.io/part-of: cognitia
data:
  # Database (same Postgres as API)
  DATABASE_URL: "postgresql+asyncpg://cognitia:cognitia-db-secret-2024@cognitia-postgres:5432/cognitia"

  # JWT (RS256)
  JWT_ISSUER: "https://auth.cognitia.iberu.me"
  JWT_AUDIENCE: "cognitia-api"
  JWT_KEY_ID: "auth-1"

  ACCESS_TOKEN_TTL_MINUTES: "30"
  REFRESH_TOKEN_TTL_DAYS: "30"

  JWT_PRIVATE_KEY_PATH: "/etc/cognitia/jwt/jwt_private.pem"
  JWT_PUBLIC_KEY_PATH: "/etc/cognitia/jwt/jwt_public.pem"
